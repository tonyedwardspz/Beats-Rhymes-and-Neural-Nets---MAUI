<?xml version="1.0" encoding="utf-8"?>

<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:MAUI_App.ViewModels"
             x:DataType="vm:WhisperPageViewModel"
             x:Class="MAUI_App.Views.WhisperPage">
    <ContentPage.Content>
        
            <Grid Margin="20" RowSpacing="10"
                  VerticalOptions="Center" RowDefinitions="*,*,*,*,*,*,*,*,*,*,*,*,*,200">
                    <Label Text="This is the recording page" Grid.Row="1" />
                    
                    <Button Grid.Row="2"
                            Text="Start Recording"
                            Command="{Binding StartCommand}" />
                    
                    <Button Grid.Row="3"
                            Text="Stop Recording"
                            Command="{Binding StopCommand}" />
                    
                    <Button Grid.Row="4"
                            Text="Transcribe"
                            Command="{Binding ProcessCommand}" />

                    <Button Grid.Row="5"
					Text="Play Recording"
					Command="{Binding PlayCommand}" />

                    <Button Grid.Row="6"
					Text="Stop Play Recording"
					Command="{Binding StopPlayCommand}" />

                    <Button Grid.Row="7"
                            Text="Start Chunked Transcription"
                            Command="{Binding StartChunkedCommand}"
                            BackgroundColor="Orange" />

                    <Button Grid.Row="8"
                            Text="Stop Chunked Transcription"
                            Command="{Binding StopChunkedCommand}"
                            BackgroundColor="Red" />

                    <!-- File Upload Section -->
                    <Label Text="File Upload" Grid.Row="9" FontSize="16" FontAttributes="Bold" Margin="0,10,0,5" />
                    
                    <Button Grid.Row="10"
                            Text="Select Audio File"
                            Command="{Binding SelectFileCommand}"
                            BackgroundColor="LightBlue" />
                    
                    <Label Text="{Binding SelectedFileName}" 
                           Grid.Row="11" 
                           FontSize="12" 
                           TextColor="Gray" 
                           HorizontalOptions="Center" />
                    
                    <Button Grid.Row="12"
                            Text="Transcribe Selected File"
                            Command="{Binding TranscribeFileCommand}"
                            BackgroundColor="Green"
                            IsEnabled="{Binding HasSelectedFile}" />
                
                    
                    
                    
                        <Label Text="{Binding TranscriptionResult}"
                               Grid.Row="13"
                               FontSize="14"
                               TextColor="Black"
                               BackgroundColor="LightGray"
                               Padding="10"
                               VerticalOptions="Start" />
            </Grid>
        
    </ContentPage.Content>
</ContentPage>